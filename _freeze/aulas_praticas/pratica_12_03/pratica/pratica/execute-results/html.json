{
  "hash": "5eeac6a95de350b244b5cb811c2d9fc1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Atividade prática\"\nsubtitle: \"11 de março de 2024\"\nformat:\n  html:\n    theme:\n      light: [cosmo, sta199.scss]\n      dark: [cosmo, sta199.scss, dark.scss]\n    linkcolor: \"#3A5883\" \n    toc: true\n    code-copy: true\n    code-overflow: wrap\n    mainfont: \"Atkinson Hyperlegible\"\n    highlight-style: a11y-dark\n    embed-resources: true\n\nexecute:\n  freeze: auto\n  echo: false\neditor: source\n---\n\n\n## [Objetivo e instruções]{.underline}\n\n::: {style=\"text-align: justify;\"}\nNesta etapa da aula, veremos a utilidade da visualização de dados no programa R. Durante a disciplina também aprenderemos a confeccionar códigos e gráficos similares a estes.\n\nEtapas:\n\n-   Abra o *RStudio* em seu computador;\n-   Utilize o botão \"copy to clipboard\" para copiar as partes do código (*chunks*) para a sua área de transferência;\n-   Cole as partes do código em um *Script* do *RStudio*;\\\n-   Posteriormente, daremos continuidade à execução do código.\n:::\n\n\n## [Prática 1]{.underline}\n::: {style=\"text-align: justify;\"}\nO primeiro conteúdo prático refere-se ao uso da ferramenta *Google trends*. Essa ferramenta permite explorar e analisar as tendências de busca na internet ao longo do tempo. Por exemplo, vejamos a tendência de pesquisa, no Brasil.\n \n\n```{=html}\n<script type=\"text/javascript\" src=\"https://ssl.gstatic.com/trends_nrtr/3620_RC01/embed_loader.js\"></script> <script type=\"text/javascript\"> trends.embed.renderWidget(\"dailytrends\", \"\", {\"geo\":\"BR\",\"guestPath\":\"https://trends.google.com:443/trends/embed/\"}); </script>\n```\n\n\n\nVejamos o mecanismo de procura de palavras no [Google trends](https://trends.google.com/trends/){target=\"_blank\"}. Façam buscas de termos como \"sisu\", \"enem\" ou termos de seu interesse. \n:::\n\n### Como buscar e visualizar esses dados no *RStudio*?\n::: {style=\"text-align: justify;\"}\nUtilizaremos um pacote chamado *gtrendsR*. Esse pacote permite fazer buscas de termos, por país e em períodos específicos, que são inseridos como *parâmetros* da função. \n\nPara começarmos, copie o seguinte código e cole em um novo *script* do *RStudio*. \n\n- <b>Obs.:</b> Para criar um novo *script*, selecione a opção (+), situada no canto superior esquerdo do *RStudio*, e selecione *R Script*.\n\nAguarde e solicite as instruções do docente para executar o código.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# instalando o pacote gtrendsR em seu computador\nif (!requireNamespace(\"gtrendsR\", quietly = TRUE)) {install.packages(\"gtrendsR\")}\n\n# solicitando o pacote na biblioteca\nlibrary(\"gtrendsR\")\n\n# fazendo a busca pelos termos sisu e enem no Brasil\ntermo <- gtrends(c(\"sisu\", \"enem\"), geo = c(\"BR\"), onlyInterest = T)\n\n# grafico\nplot(termo)\n```\n\n::: {.cell-output-display}\n![](pratica_files/figure-html/unnamed-chunk-1-1.png){fig-align='center' width=672}\n:::\n:::\n\n\nEsse código construirá um gráfico com o número de pesquisas feitas no Brasil com os termos sisu e enem.\n\n- <b>Tarefa.:</b> Vamos buscar novos termos e executar o código. Para isso, devemos substituir a parte `termo <- gtrends(c(\"sisu\", \"enem\"), geo = c(\"BR\"), onlyInterest = T)` trocando `c(\"sisu\", \"enem\")` pelo termo de seu interesse. Por exemplo, suponha que desejo buscar o termo *ufla*, então:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# solicitando o pacote na biblioteca\nlibrary(\"gtrendsR\")\n\n# PARTE ALTERADA\ntermo <- gtrends(c(\"ufla\"), geo = c(\"BR\"), onlyInterest = T)\n\n# grafico\nplot(termo)\n```\n:::\n\n:::\n\n\n## [Prática 2]{.underline}\n::: {style=\"text-align: justify;\"}\nTambém podemos estudar informações espaciais no *R*. Uma forma é localizar e apresentar informações em mapas.\n\nNessa segunda atividade prática, vamos apresentar um mapa com a localização da cidade de Lavras, Minas Gerais, fornecendo as coordenadas (longitude e latitude) no código. \n\nAssim como realizado na atividade prática 1, copie o código abaixo e cole em um novo *script* do *RStudio*.  \n\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# instalando o pacote leaflet em seu computador\nif (!requireNamespace(\"leaflet\", quietly = TRUE)) {install.packages(\"leaflet\")}\n\n# coordenadas\nlongitude <- -44.998950\nlatitude <- -21.229180\n\n# construindo o mapa\nlibrary(leaflet)\nm <- leaflet() %>%\n  addTiles(urlTemplate = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png') %>%\n  setView(lng = longitude, lat = latitude, zoom = 6) %>%\n  addMarkers(lng = longitude, lat = latitude)\nm\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-0df3ccff804d1697adab\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-0df3ccff804d1697adab\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false}]},{\"method\":\"addMarkers\",\"args\":[-21.22918,-44.99895,null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},null,null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"setView\":[[-21.22918,-44.99895],6,[]],\"limits\":{\"lat\":[-21.22918,-21.22918],\"lng\":[-44.99895,-44.99895]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n::: {style=\"text-align: justify;\"}\n\n<b>Tarefa.:</b> Vamos adicionar mais uma localidade a esse gráfico. Que tal a localização de sua cidade?\n\nPara isso, precisamos buscar as coordenadas. Uma forma de fazer isso é buscar usando a ferramenta *maps* da *Google*. Inicialmente, acessem [Maps](https://maps.google.com/){target=\"_blank\"} e digitem o nome do local de interesse. \n\n<b>Passos para buscar as coordenadas:</b>\n\n- Digite o nome do local na ferramenta de busca do *maps*, situada no canto superior esquerdo;\n- No mapa gerado, aponte a seta para o local desejado, clique com o botão esquerdo do *mouse* ou do *touchpad* e copie as coordenadas que aparecerão.\n- O primeiro termo refere-se à latitude e o segundo é a longitude.\n\n\nPor exemplo, incluindo as coordenadas (-45.48012; -21.58266) no mapa:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# coordenadas de lavras\nlongitude <- -44.998950\nlatitude <- -21.229180\n\n# novas coordenadas\nlongitude_1 = -45.48012\nlatitude_1 = -21.58266\n\n# construindo o mapa\nlibrary(leaflet)\nm <- leaflet() %>%\n  addTiles(urlTemplate = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png') %>%\n  setView(lng = longitude, lat = latitude, zoom = 6) %>%\n  addMarkers(lng = longitude, lat = latitude) %>%\n  addMarkers(lng = longitude_1, lat = latitude_1)\nm\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"leaflet html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-16fdb31d827695e0437d\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-16fdb31d827695e0437d\">{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false}]},{\"method\":\"addMarkers\",\"args\":[-21.22918,-44.99895,null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},null,null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]},{\"method\":\"addMarkers\",\"args\":[-21.58266,-45.48012,null,null,null,{\"interactive\":true,\"draggable\":false,\"keyboard\":true,\"title\":\"\",\"alt\":\"\",\"zIndexOffset\":0,\"opacity\":1,\"riseOnHover\":false,\"riseOffset\":250},null,null,null,null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"setView\":[[-21.22918,-44.99895],6,[]],\"limits\":{\"lat\":[-21.58266,-21.22918],\"lng\":[-45.48012,-44.99895]}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nBusquem e reproduzam o mapa substituindo `longitude_1` e `latitude_1` por novas coordenadas. Vamos tentar?\n:::\n",
    "supporting": [
      "pratica_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<script src=\"../../../site_libs/jquery-1.12.4/jquery.min.js\"></script>\n<link href=\"../../../site_libs/leaflet-1.3.1/leaflet.css\" rel=\"stylesheet\" />\n<script src=\"../../../site_libs/leaflet-1.3.1/leaflet.js\"></script>\n<link href=\"../../../site_libs/leafletfix-1.0.0/leafletfix.css\" rel=\"stylesheet\" />\n<script src=\"../../../site_libs/proj4-2.6.2/proj4.min.js\"></script>\n<script src=\"../../../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js\"></script>\n<link href=\"../../../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css\" rel=\"stylesheet\" />\n<script src=\"../../../site_libs/leaflet-binding-2.1.2/leaflet.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}